{"version":3,"sources":["assets/iconClose.png","components/AvatarPreview/style.js","components/AvatarPreview/index.jsx","assets/iconWarning.png","components/AvatarUpload/style.js","components/AvatarUpload/index.jsx","assets/iconImg.png","App.js","index.js"],"names":["PreviewContainer","styled","section","theme","back","PreviewImgArea","div","high","borderRadius","PreviewImg","img","PreviewText","h1Color","warn","text","PreviewBtn","link","FilePreview","files","functions","error","clearError","useState","range","setRange","show","src","alt","message","onClick","iconClose","Object","keys","map","key","URL","createObjectURL","type","value","onChange","ev","target","min","max","saveFile","UploadContainer","border","UploadTextContainer","UploadTitle","title","FileUpload","setFiles","savedFile","setSavedFile","step","setStep","setError","handlePreview","handleFile","validate","newFiles","file","includes","size","update","e","length","updatedFiles","console","log","remove","fileName","fileRemove","colors","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1970e6eb.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADvSURBVHgBjZK9EsFAEMd3jxl0vIGXYKiN3hugowsKk06XUTDp6MR7UKdJwROIN0gnhUlkY85sLl/+1d3u/nb39hYgkqZtmjPNaEOJeBzSIayKB11ECJPDbn3Oguar7ThAsOjceL9awoe6J53koIAiiORDrSksc+FhEEzzYBWi2KOpuygNs6UxCYU4yTu1LRMloL0e35G3pMJcHCJVuNOxr7dOb/AExFERFHeUyoxRk3/YEhXVQUiFCKNuf+g69uX+S5YHyUmrA5P/XMmD6E3qm3nlxOZwiLeqTju1OVkQiWx8SWhzvhmjqrTAUCIe9wG1UpJZw12NdgAAAABJRU5ErkJggg==\"","import styled from 'styled-components'\r\n\r\nexport const PreviewContainer = styled.section`\r\n    background: ${({ theme }) => theme.back};\r\n    max-width: 553px;\r\n    height: 177px;\r\n    border-radius: 8px;\r\n    padding: 32px;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    border: 2px solid transparent;\r\n    margin: 25px;\r\n    span {\r\n        position: absolute;\r\n        top: 32px;\r\n        right: 32px;\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n    }\r\n`\r\n\r\nexport const PreviewImgArea = styled.div`\r\n    width: 113px;\r\n    height: 113px;\r\n    background: ${({ theme }) => theme.high};\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: ${({ borderRadius }) => borderRadius};\r\n    img {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    border-radius: ${({ borderRadius }) => borderRadius};\r\n    }\r\n`\r\n\r\nexport const PreviewImg = styled.img`\r\n    width: 113px;\r\n    height: 113px;\r\n    background: ${({ theme }) => theme.high};\r\n    border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\n\r\nexport const PreviewText = styled.div`\r\n    margin-left: 32px;\r\n    h1 {\r\n        font-size: 1rem;\r\n        font-weight: 400;\r\n        color: ${({ h1Color, theme }) => h1Color === 'warn' ? theme.warn : theme.text};\r\n    }\r\n    input {\r\n        margin-top: 13px;\r\n        width: 276px;\r\n        height: 2px;\r\n    }\r\n    h2 {\r\n        font-size: 0.8rem;\r\n        font-weight: 400;\r\n        color: ${({ theme }) => theme.text};\r\n        margin: 6px;\r\n    }\r\n    p {\r\n        font-size: 1rem;\r\n        font-weight: 500;\r\n        text-decoration: underline;\r\n        margin-top: 12px;\r\n        cursor: pointer;\r\n    }\r\n`\r\n\r\nexport const PreviewBtn = styled.div`\r\n    margin-top: 35px;\r\n    width: 276px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    button {\r\n        padding: 10px 35px;\r\n        background: ${({ theme }) => theme.link};\r\n        border: 1px solid ${({ theme }) => theme.link};\r\n        color: white;\r\n        border-radius: 16px;\r\n        font-size: 14px;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n        &:hover {\r\n            color: ${({ theme }) => theme.link};\r\n            background-color: transparent;\r\n        }\r\n    }\r\n`","import React, { useState } from \"react\";\r\n\r\nimport iconWarning from '../../assets/iconWarning.png'\r\nimport iconClose from '../../assets/iconClose.png'\r\n\r\nimport {PreviewContainer, PreviewImgArea, PreviewImg, PreviewText, PreviewBtn} from './style'\r\n\r\nexport default function FilePreview({files, functions, error, clearError}){\r\n    const [range, setRange] = useState(4)\r\n\r\n    if(!error?.show){\r\n        return (\r\n            <PreviewContainer>\r\n                {\r\n                    Object.keys(files).map(\r\n                        (key) => <PreviewImg borderRadius={`${range}%`} src={URL.createObjectURL(files[key])} alt=\"image\" key={key} />\r\n                    )\r\n                }\r\n                <PreviewText>\r\n                    <h1>Crop</h1>\r\n                    <input type=\"range\" value={range} onChange={(ev) => setRange(ev.target.value)} min={4} max={50}/>\r\n                    <PreviewBtn>\r\n                        <button type=\"button\" onClick={() => functions.saveFile(range)}>Save</button>\r\n                    </PreviewBtn>\r\n                </PreviewText>\r\n                <span onClick={functions.clearError}>\r\n                    <img src={iconClose} alt=\"close\" />\r\n                </span>\r\n            </PreviewContainer>\r\n        )\r\n    } else {\r\n        return (\r\n            <PreviewContainer>\r\n                <PreviewImgArea borderRadius={'50%'}>\r\n                    <img src={iconWarning} alt=\"warning\"  />\r\n                </PreviewImgArea>\r\n                <PreviewText h1Color={'warn'}>\r\n                    <h1>Sorry, the upload failed</h1>\r\n                    <h2>{error.message}</h2>\r\n                    <p onClick={functions.clearError}>Try again</p>\r\n                </PreviewText>\r\n                <span onClick={functions.clearError}>\r\n                    <img src={iconClose} alt=\"close\" />\r\n                </span>\r\n            </PreviewContainer>\r\n        )\r\n    }   \r\n}\r\n\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADjSURBVHgBrZQNDcIwEIVvDQIqYQ6QAA6YBBwAChgKhoNJAAcLCsBBQcFwcNxjXfjJ1nZpv+Tt9+310q5HNAAza9FWdBIZ/tDaZ2sKRcwb+6EP4w0WQ8XTqaaGodrGqg0KRek8TvPlaxy+Ah5lvXuKp5ZQrbib2Jzi0aICFa4oHe/AJaVjjkBN6cgVJQaBd0rHbYYDuVc5lz+h7K/JzQMVXjwmzPHCyjff576ztAl2ioFHZVn2lPOO4jn83MkIx5GRQ5pDOTgEXvB0Smfd3HUeExAET0Gh2GC0++tfSI0g0eCKvwCXtB0hERzVgQAAAABJRU5ErkJggg==\"","import styled from \"styled-components\"\r\n\r\nexport const UploadContainer = styled.section`\r\n    background: ${({ theme }) => theme.back};\r\n    max-width: 553px;\r\n    height: 177px;\r\n    border-radius: 8px;\r\n    padding: 32px;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border: 2px dashed ${({ theme }) => theme.border};\r\n    margin: 25px;\r\n    cursor: pointer;\r\n    p {\r\n        width: 100%;\r\n        font-size: 14px;\r\n        color: ${({ theme }) => theme.text};\r\n        text-align: center;\r\n    }\r\n    input, input::-webkit-file-upload-button {\r\n        border: none;\r\n        background: transparent;\r\n        color: transparent;\r\n        width: 0;\r\n    }\r\n    input::-webkit-file-upload-button {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n`\r\n\r\nexport const UploadTextContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    width: 100%;\r\n`\r\n\r\nexport const UploadTitle = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n    img {\r\n        width: 16px;\r\n        height: 12px;\r\n        margin-right: 12px;\r\n    }\r\n    h1 {\r\n        font-size: 14px;\r\n        color: ${({ theme }) => theme.title};\r\n        font-weight: 500;\r\n    }\r\n`","import React, { useState } from \"react\";\r\n\r\nimport iconImg from '../../assets/iconImg.png'\r\n\r\nimport AvatarPreview from \"../AvatarPreview\";\r\nimport {UploadContainer, UploadTextContainer, UploadTitle} from './style'\r\nimport {PreviewImg} from '../AvatarPreview/style'\r\n\r\nexport default function FileUpload(){\r\n  const maxFileSizeInBytes = 500000;\r\n\r\n  const [files, setFiles] = useState({});\r\n  const [savedFile, setSavedFile] = useState({})\r\n  const [range, setRange] = useState(4)\r\n  const [step, setStep] = useState('upload')\r\n  const [error, setError] = useState({ show: false })\r\n\r\n  const handlePreview = {\r\n    clearError(){\r\n      setError({ show: false })\r\n      setStep('upload')\r\n    },\r\n    saveFile(range){\r\n      setSavedFile(files)\r\n      setRange(range)\r\n      setFiles({})\r\n      setStep('upload')\r\n    }\r\n  }\r\n\r\n  const handleFile = {\r\n    validate(newFiles){\r\n      for (let file of newFiles) {\r\n        if([\"image/png\", \"image/jpeg\", \"image/svg+xml\"].includes(file.type)){\r\n          if(file.size <= maxFileSizeInBytes){\r\n            return { file };\r\n          } else {\r\n            setError({\r\n              show: true,\r\n              message: 'Oops... too big file!'\r\n            })\r\n          }\r\n        } else {\r\n          setError({\r\n            show: true,\r\n            message: 'Oops... the file is not png, svg or jpg'\r\n          })\r\n        }      \r\n      }\r\n      return { ...files };\r\n    },\r\n    update(e){\r\n      const { files: newFiles } = e.target;\r\n      if (newFiles.length) {\r\n        let updatedFiles = handleFile.validate(newFiles);\r\n        console.log(updatedFiles)\r\n        setFiles(updatedFiles);\r\n        setSavedFile({})\r\n      }\r\n      setStep('preview')\r\n    },\r\n    remove(fileName){\r\n      delete files[fileName];\r\n      setFiles({ ...files });\r\n    }\r\n  }\r\n\r\n  if(step === 'preview'){\r\n    return (\r\n      <AvatarPreview \r\n        files={files} \r\n        fileRemove={handleFile.remove} \r\n        error={error}  \r\n        functions={handlePreview}\r\n      /> \r\n    )\r\n  }\r\n\r\n  return (\r\n    <UploadContainer>\r\n        {\r\n          Object.keys(savedFile).map(\r\n              (key) => <PreviewImg borderRadius={`${range}%`} src={URL.createObjectURL(savedFile[key])} alt=\"image\" key={key} />\r\n          )\r\n        }\r\n        <UploadTextContainer>\r\n          <UploadTitle>\r\n            <img src={iconImg} alt=\"img\" />\r\n            <h1>Organization Logo</h1>\r\n          </UploadTitle>\r\n          <p>Drop the image here or click to browse.</p>\r\n        </UploadTextContainer>\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleFile.update}\r\n          title=\"\"\r\n          value=\"\"\r\n        />\r\n      </UploadContainer>\r\n  );\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAYAAACgu+4kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADUSURBVHgBpZExDoJAEEVnCRrtPMJ6A72BJVLRgHbSiJTcYOUWWmlvQ6ed3oQ9hTExYZwlYliIUeA3u5uZ/zJ/FqCj2NzdpHRyaCdpdDArcbO4nU97Bg1Ek6M6jYam9B35oxrActf+fBFEXykIsvw0q3UGhoAMRpYTJpdkpzVTzHG1XwPYXigQkeegHl5nTjQdmI+JwXCVPVlcBWoRrGXIybwt1fiwfxeMoaBt+QRMbS8QtYmLbdIXHFUj/JZEyGKKetAm+NOcT1aYNUBbKYCEtkK4vQCSM0Dack79KwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport { ThemeProvider } from 'styled-components'\r\n\r\nimport AvatarUpload from \"./components/AvatarUpload\";\r\n\r\nconst colors = {\r\n  back: '#F2F5F8',\r\n  high: '#C3CBD5',\r\n  warn: '#C64D32',\r\n  title: '#495567',\r\n  text: '#677489',\r\n  link: '#3D485F',\r\n  border: '#C7CDD3'\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <ThemeProvider theme={colors}>\r\n      <form >\r\n        <AvatarUpload />\r\n      </form>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}